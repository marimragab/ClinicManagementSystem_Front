<!-- <div *ngIf="authService.loggedIn">
  Welcome, !
  <button (click)="logout()">Logout</button>
</div>
<div *ngIf="!authService.loggedIn" class="container mat-elevation-z8">
  <form [formGroup]="loginForm" (ngSubmit)="login()">
    <div class="example-container">
      <mat-form-field>
        <mat-label>Email</mat-label>
        <input
          type="email"
          matInput
          formControlName="email"
          name="email"
          [errorStateMatcher]="matcher"
          placeholder="Ex. pat@example.com"
        />
        <mat-error
        *ngIf="
          loginValues['email'].errors['email'] &&
          !loginValues['email'].errors['required']
        "
      >
        Please enter a valid email address
      </mat-error>
      <mat-error *ngIf="loginValues['email'].errors['required']">
        Email is <strong>required</strong>
      </mat-error>
      </mat-form-field>
    </div>
    <div class="example-container">
      <mat-form-field appearance="fill">
        <mat-label>Enter your password</mat-label>
        <input
          matInput
          [type]="hide ? 'password' : 'text'"
          formControlName="password"
          name="password"
        />
        <button
          mat-icon-button
          matSuffix
          (click)="hide = !hide"
          [attr.aria-label]="'Hide password'"
          [attr.aria-pressed]="hide"
        >
          <mat-icon>{{ hide ? "visibility_off" : "visibility" }}</mat-icon>
        </button>
      </mat-form-field>
    </div>

    <div>
      <button mat-raised-button color="primary">Login</button>
    </div>
  </form>
</div> -->

<div class="login">
  <div class="container">
    <div class="row col-xl col-lg col-md col-sm">
      <div
        class="col-md-6 col-xl-5 col-lg-6 col-sm-12 imgContainer overflow-hidden"
      >
        <img
          src="https://www.biospectrumasia.com/uploads/articles/hybrid_clinic_2_copy-12846.jpg"
        />
      </div>

      <form
        novalidate
        [formGroup]="loginForm"
        [ngClass]="{
          'was-validated':
            !loginForm.get('password')?.invalid &&
            !loginForm.get('email')?.invalid
        }"
        class="col-md-6 col-xl-5 col-lg-6 col-sm-12 formContainer text-center has-validation"
      >
        <div class="mb-5">
          <h1 class="fs-1">Welcome Back!</h1>
          <span class="lead">Login to continue</span>
        </div>
        <div class="row mb-3">
          <label for="inputEmail3" class="col-sm-2 col-form-label">Email</label>
          <div class="col-sm-10">
            <input
              type="email"
              name="email"
              formControlName="email"
              class="form-control"
              id="inputEmail3"
              (blur)="checkFormValidation()"
            />
            <!-- <div class="valid-feedback">Looks good!</div> -->
          </div>
          <!-- <div class="invalid-feedback">Looks good!</div> -->
        </div>
        <div class="row mb-3">
          <label for="inputPassword3" class="col-sm-2 col-form-label"
            >Password</label
          >
          <div class="col-sm-10">
            <input
              type="password"
              name="password"
              formControlName="password"
              class="form-control"
              id="inputPassword3"
              (blur)="checkFormValidation()"
            />
          </div>
        </div>
        <div class="row mb-3 m-auto">
          <button
            [disabled]="
              loginForm.get('password')?.invalid ||
              loginForm.get('email')?.invalid
            "
            (click)="login()"
            class="btn btn-primary"
          >
            Login
          </button>
        </div>

        <p
          class="text-danger form-text"
          [ngClass]="{
            'opacity-0': !doesLoginHasError && !doesFormHasInvalidData
          }"
        >
          {{
            doesLoginHasError
              ? "Email or password is incorrect, try again."
              : ""
          }}
          <br *ngIf="doesLoginHasError" />

          {{
            loginForm.get("email")?.touched &&
            doesFormHasInvalidData.email?.required
              ? "Email is required."
              : ""
          }}
          <br
            *ngIf="
              loginForm.get('email')?.touched &&
              doesFormHasInvalidData.email?.required
            "
          />

          {{
            loginForm.get("email")?.touched &&
            doesFormHasInvalidData.email?.email
              ? "Email isn't written in a right form."
              : ""
          }}
          <br
            *ngIf="
              loginForm.get('email')?.touched &&
              doesFormHasInvalidData.email?.email
            "
          />

          {{
            loginForm.get("password")?.touched &&
            doesFormHasInvalidData.password?.required
              ? "Password is required."
              : ""
          }}
          <br
            *ngIf="
              loginForm.get('password')?.touched &&
              doesFormHasInvalidData.password?.required
            "
          />

          {{
            loginForm.get("password")?.touched &&
            doesFormHasInvalidData.password?.pattern
              ? "Password isn't written in a right
          form."
              : ""
          }}
        </p>
      </form>
    </div>
  </div>
</div>
